<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Transaction Status</title>
  <script src="https://kit.fontawesome.com/b99e675b6e.js"></script>
  <link rel="stylesheet" href="/homecss">
  <link href="https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css" rel="stylesheet">
</head>
<body>
  <div class="sidebar">
    <a href="/home" class="logo">
      <i class='bx bx-code-alt'></i>
      <div class="logo-name"><span>CampusCurrency</span></div>
    </a>
    <ul class="side-menu">
      <li><a href="/home"><i class='bx bxs-dashboard'></i>Dashboard</a></li>
      <li><a href="/profile"><i class='bx bx-user-circle'></i>Profile</a></li>
      <li><a href="/connections"><i class='bx bxs-doughnut-chart'></i>Transactions</a></li>
    </ul>
    <ul class="side-menu">
      <li><a href="/logout" class="logout"><i class='bx bx-power-off'></i>Logout</a></li>
    </ul>
  </div>

  <div class="content">
    <nav>
      <i class='bx bx-menu'></i>
      <form action="#" style="position: relative;">
        <div class="form-input">
          <input type="search" placeholder="Search...">
          <button class="search-btn" type="submit"><i class='bx bx-search'></i></button>
        </div>
      </form>
      <a href="/connections" class="notif"><i class='bx bx-bell'></i></a>
      
    <a href="/qr-scanner">
      <button  id="scanQrBtn" class="qr-btn">
          <i class='bx bx-qr-scan'></i> Scan QR
      </button>
      </a>
      <a href="/profile" class="profile"><img src="images/logo.png"></a>
    </nav>

    <main>
      <div class="header">
        <div class="left">
          <ul class="breadcrumb">
            <li><a href="/home">Home</a></li>
            <li><i class='bx bx-chevron-right'></i></li>
            <li><a class="active" href="#">Transaction Status</a></li>
          </ul>
          <div class="transaction-status">
            <h1 id="statusMessage">Transaction Status</h1>
            <p id="statusDescription"></p>
            <div class="transaction-details">
              <p id="receiverNameRow" style="display: none;"><strong>Receiver's Name:</strong> <span id="receiverName"></span></p>
              <p id="amountSentRow" style="display: none;"><strong>Amount Sent:</strong> <span id="amountSent"></span></p>
              <p id="transactionHashRow" style="display: none;"><strong>Transaction Hash:</strong> <span id="transactionHash"></span></p>
            </div>
            <a href="/home" class="btn">Go Back to Dashboard</a>
          </div>
        </div>
      </div>
    </main>
  </div>

  <script>
    const urlParams = new URLSearchParams(window.location.search);

    const status = urlParams.get("status");
    const receiverName = urlParams.get("receiverName");
    const amountSent = urlParams.get("amountSent");
    const transactionHash = urlParams.get("transactionHash");

    const statusMessage = document.getElementById("statusMessage");
    const statusDescription = document.getElementById("statusDescription");
    const receiverNameRow = document.getElementById("receiverNameRow");
    const amountSentRow = document.getElementById("amountSentRow");
    const transactionHashRow = document.getElementById("transactionHashRow");

    if (status === "success") {
      statusMessage.textContent = "Transaction Successful!";
      statusDescription.textContent = "Your payment has been processed successfully.";
      receiverNameRow.style.display = "block";
      amountSentRow.style.display = "block";
      transactionHashRow.style.display = "block";
      document.getElementById("receiverName").textContent = receiverName;
      document.getElementById("amountSent").textContent = amountSent;
      document.getElementById("transactionHash").textContent = transactionHash;
    } else {
      statusMessage.textContent = "Transaction Failed!";
      statusDescription.textContent = "Something went wrong. Please try again later.";
    }
  </script>
</body>
</html>
